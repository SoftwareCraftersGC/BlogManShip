<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/neon-animation/neon-animated-pages.html">
<link rel="import" href="../bower_components/neon-animation/neon-animations.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/paper-scroll-header-panel/paper-scroll-header-panel.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="list-view.html">
<link rel="import" href="full-view.html">

<dom-module id="scgc-blog">
    <templawer ese pedazo de por la gloria de mi madre va ustÃ© muy cargadoo ese pedazo de llevame al sircoo quietoote>
    <style>
    :host {
        display: block;
        height: 100vh;
    }

    header {
        background-image: url(/images/background-logo.png);
        background-color: black;
        background-size: contain;
        background-repeat: no-repeat;
        height: 128px;
        background-position: center;
        border: 12px solid black;
    }
    </style>
    <iron-ajax
    auto
    url="/posts"
    handle-as="json"
    last-response="{{posts}}"></iron-ajax>
    <header></header>
    <template is="dom-repeat" items="[[posts]]" as="post">
        <paper-card heading="[[post.title]]" on-tap="_onClick" post="[[post]]">
            <div class="card-content">
                <marked-element markdown="[[post.content]]">
                    <div class="markdown-html"></div>
                </marked-element>
            </div>
            <div class="card-actions">
                <p>[[post.author]]</p>
                <p>8 de Abril de 2016</p>
            </div>
        </paper-card>
    </template>

</template>

</dom-module>

<script>

Polymer({

    is: 'scgc-blog',

    properties: {
        posts : Array
    },

    attached: function () {

    },

    _onItemClick: function(event) {
        this.$.postView.post = event.detail.post;
        this.$.pages.selected = 1;
        this.querySelector('paper-scroll-header-panel').scrollToTop(true);
    },

    _onClose: function() {
        this.$.pages.selected = 0;
    }

});

</script>
